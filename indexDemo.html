<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/modal.css">
    <!-- Syntax Highlight -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/tokyo-night-dark.min.css"> -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark-reasonable.min.css">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/qtcreator-dark.css"> -->
    <title>Highlightsjs Demo</title>
</head>
<body>
 <h1>Demo Modal and Syntax Highlights</h1>
    <p>Click the button to open the modal</p>
    <pre id="myPreTag">
        <code>$a = get-WMIObject Win32_TerminalServiceSetting -computername 'OITHINopsPKI02.va.gov' -Namespace ROOT\CIMV2\TerminalServices
$a.LicensingType # Get Mode 
$a.ChangeMode(2) # Set Mode to Per Device
$a.GetSpecifiedLicenseServerList().SpecifiedLSList # Get Server List
#$a.SetSpecifiedLicenseServerList("tslicense2.va.gov") # Set Server List
#$a.AddLSToSpecifiedLicenseServerList("tslicense.va.gov") # Add Server List 

        </code>
    </pre>
<div class="button-container">
    <button onclick="openModal()">Open Model</button>
</div>

<!-- Trigger/Open The Modal -->
<button id="myBtn" hidden="True">Open Modal</button>

<!-- The Modal -->
<div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
    <span class="close">&times;</span>

    <span class="copy-button" onclick="copyText()">Copy</span>

    <p id="Popupwindow">Some text in the Modal..</p>
</div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <script>
         hljs.initHighlightingOnLoad();            
    </script>

    <script>
        function openModal() {
            var modal = document.getElementById("myModal");
            var preTag = document.getElementById("myPreTag");
            var code = preTag.querySelector("code");
            var output = document.getElementById("Popupwindow");
            output.innerHTML = "<pre><code class='language-powershell'>"+code.innerHTML+"</code></pre>";
            modal.style.display = "block";
            modal.style.fontSize = "1.25em";
            hljs.initHighlightingOnLoad(); 
        }
        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        btn.onclick = function() {
        modal.style.display = "block";
        output.innerHTML = ""
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        output.innerHTML = ""
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
                output.innerHTML = ""
            }
        }
        function copyText() {
            /* Copy text into clipboard */
            // var thetext = document.getElementById("script-content").value
            var thetext = document.getElementById("Popupwindow").innerText
            //alert(thetext)
            navigator.clipboard.writeText(thetext)
        }
    </script>
</body>
</html>